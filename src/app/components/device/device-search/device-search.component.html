<form name="vm.form"
      ng-submit="vm.search()">
  <div class="form-group form-group-sm"
       ng-if="vm.mode === 'sales'">
    <label for="serialNumber">Serial number:</label>
    <input type="text"
           ng-model="vm.filters.serialNumber"
           id="serialNumber"
           name="serialNumber"
           class="form-control"
           placeholder="Serial number">
  </div>



  <script type="text/ng-template"
          id="customTemplate.html">
    <a>
      Model Name: <span ng-bind-html="match.model.model | uibTypeaheadHighlight:query"></span>
      <br>
      Part Number: <span ng-bind-html="match.model.partNumber | uibTypeaheadHighlight:query"></span>
      <br>
      UPC: <span ng-bind-html="match.model.upc | uibTypeaheadHighlight:query"></span>
      <br>
      Description: <span ng-bind-html="match.model.description | uibTypeaheadHighlight:query"></span>
    </a>
  </script>



  <div class="form-group form-group-sm"
       ng-if="vm.mode === 'sales'">
    <label for="deviceSelect">Device:</label>
    <input type="text"
           id="deviceSelect"
           ng-model="vm.filters.product"
           placeholder="Device"
           uib-typeahead="device as device.model for device in vm.devices | filter:$viewValue | limitTo:8"
           typeahead-min-length="2"
           typeahead-editable="false"
           typeahead-template-url="customTemplate.html"
           class="form-control">
  </div>


  <div class="form-group form-group-sm"
       ng-if="vm.mode === 'production'">
    <label for="modelName">Model name:</label>
    <input type="text"
           ng-model="vm.filters.model"
           id="modelName"
           name="modelName"
           class="form-control"
           placeholder="Model name">
  </div>
  <div class="form-group form-group-sm"
       ng-if="vm.mode === 'production'">
    <label for="partNumber">Part Number:</label>
    <input type="text"
           ng-model="vm.filters.partNumber"
           id="partNumber"
           class="form-control"
           placeholder="Part number"
           name="partNumber">
  </div>
  <div class="form-group form-group-sm"
       ng-if="vm.mode === 'production'">
    <label for="upc">UPC:</label>
    <input type="text"
           ng-model="vm.filters.upc"
           id="upc"
           class="form-control"
           placeholder="UPC"
           name="upc">
  </div>
  <div class="form-group form-group-sm"
       ng-if="vm.mode === 'production'">
    <label for="description">Description:</label>
    <input type="text"
           ng-model="vm.filters.description"
           id="description"
           name="description"
           class="form-control"
           placeholder="Description">
  </div>
  <div class="form-group form-group-sm"
       ng-if="vm.mode === 'sales'">
    <label for="dateFrom">From Date:</label>
    <p class="input-group">
      <input type="text"
             id="dateFrom"
             class="form-control"
             uib-datepicker-popup="dd.MM.yyyy"
             ng-model="vm.filters.dateFrom"
             popup-placement="auto"
             placeholder="From Date"
             is-open="openFrom"
             datepicker-options="{maxDate: vm.filters.dateTo}"
             close-text="Close" />
      <span class="input-group-btn">
            <button type="button"
                    class="btn btn-default btn-sm"
                    ng-click="openFrom = !openFrom">
              <i class="glyphicon glyphicon-calendar"></i></button>
          </span>
    </p>
  </div>

  <div class="form-group form-group-sm"
       ng-if="vm.mode === 'sales'">
    <label for="dateTo">To Date:</label>
    <p class="input-group">
      <input type="text"
             id="dateTo"
             class="form-control"
             placeholder="To Date"
             uib-datepicker-popup="dd.MM.yyyy"
             ng-model="vm.filters.dateTo"
             datepicker-options="{minDate: vm.filters.dateFrom}"
             popup-placement="auto"
             is-open="openTo"
             close-text="Close" />
      <span class="input-group-btn">
            <button type="button"
                    class="btn btn-default btn-sm"
                    ng-click="openTo = !openTo">
              <i class="glyphicon glyphicon-calendar"></i></button>
          </span>
    </p>
  </div>
  <div class="text-right">
    <button class="btn btn-primary btn-sm"
            type="button"
            ng-if="vm.mode === 'production'"
            has-role="['admin']"
            ng-click="vm.openDeviceModal({device: {}})">New</button>
    <button type="button"
            class="btn btn-warning btn-sm"
            ng-click="vm.reset()">Reset</button>
    <button type="submit"
            class="btn btn-success btn-sm">Search</button></div>
</form>